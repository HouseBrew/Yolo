@import '../../stylus/settings.styl'

$button-size-sm := $el-height-sm
$button-size-lg := $el-height-lg
$button-size := $el-height
$button-padding-x := $el-padding-x

.vi-button
  align-items: center
  border-radius: $border-radius
  display: inline-flex
  height: $button-size
  flex: 0 1 auto
  font-size: 14px
  font-weight: 400
  justify-content: center
  margin: 0
  min-width: 80px
  outline: 0
  text-transform: uppercase
  text-decoration: none
  transition: 0.3s
  position: relative
  vertical-align: middle
  user-select: none
  cursor pointer
  padding 0
  font-family 'Lato', sans-serif
  // default
  background none
  color $grey
  border 1px solid currentColor

  &--active,
  &:hover,
  &:focus
    color $dark-grey

  &--disabled
    background $disable-bg-color !important
    border-color $disable-bg-color !important
    color white !important
    cursor default
    box-shadow none !important

  &__content
    align-items: center
    border-radius: inherit
    color: inherit
    display: flex
    height: inherit
    flex: 1 0 auto
    justify-content: center
    margin: 0 auto
    padding: 0 $button-padding-x
    // transition: $transition
    white-space: nowrap
    width: inherit
    position relative
    top -1px // TODO

  &--fill
    color white !important // TODO otherwise sometimes the text is black? (in cached multiple dropdown)
    font-weight bold

    &:hover
      color white

    for color_name, color_value in $colors

      &.vi-button--{color_name}
        background-color color_value
        border-color: color_value

        &--active,
        &:hover
          background-color lighten(color_value, 15%)
          border-color lighten(color_value, 15%)

  &--outline
    background none

    &.vi-button--active,
    &:hover,
    &:focus
      color $brand

    for color_name, color_value in $colors
      &.vi-button--{color_name}
        color color_value
        border-color currentColor

        if color_name == light-grey
          &.vi-button--active,
          &:hover
            color $grey

        else if color_name == 'grey'
          &.vi-button--active,
          &:hover
            color $dark-grey

        else
          &.vi-button--active,
          &:hover
            background color_value
            color white

  &--text
    background none !important
    border-color transparent !important
    min-width 0

    .vi-button__content
      padding-left 0
      padding-right 0

    for color_name, color_value in $colors
      &.vi-button--{color_name}
        color color_value

        .vi-icon
          color inherit

        if color_name == light-grey
          &.vi-button--active,
          &:hover
            color $dark-grey

        else if color_name == 'grey'
          &.vi-button--active,
          &:hover
            color $dark-grey

        else
          &.vi-button--active,
          &:hover
            color lighten(color_value, 25%)

  // TODO: come back later (now just support default color)
  &--flat.vi-button
    background none
    border-color transparent

    &:hover, &.vi-button--active
      color $dark-grey
      background rgba(0, 0, 0, 0.05)

  &--small
    height $button-size-sm
    font-size 12px

    &.vi-button--icon
      width: $button-size-sm
      height: @width

  &--large
    height $button-size-lg
    font-size 16px

    &.vi-button--icon
      width: $button-size-lg
      height: @width

  &--round
    border-radius 500em

  &--lowercase
    text-transform none

  &--float
    box-shadow $shadow-2

  &--raise
    &.vi-button--active,
    &:hover,
    &:focus
      box-shadow $shadow-2

  &--icon
    background: transparent
    box-shadow: none !important
    border-radius: 50%
    justify-content: center
    min-width: 0
    width: 40px
    height: 40px

    .vi-button__content
      padding 0

  .vi-icon
    &--left
      margin-right 6px

    &--right
      margin-left 6px
